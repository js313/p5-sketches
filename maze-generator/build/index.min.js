class Cell{constructor(t,i,s,r,h,e){this.i=t,this.j=i,this.x=s,this.y=r,this.w=h,this.h=e,this.visited=!1,this.on=!1,this.walls=[!0,!0,!0,!0]}show(){this.visited&&(fill("#908a76"),noStroke(),rect(this.x,this.y,this.w,this.h)),this.on&&(fill("#fff4d6"),noStroke(),rect(this.x,this.y,this.w,this.h)),stroke(255),this.walls[0]&&line(this.x,this.y,this.x+this.w,this.y),this.walls[1]&&line(this.x,this.y,this.x,this.y+this.h),this.walls[2]&&line(this.x,this.y+this.h,this.x+this.w,this.y+this.h),this.walls[3]&&line(this.x+this.w,this.y,this.x+this.w,this.y+this.h)}mark(){this.visited=!0}currentMark(){this.on=!0}currentUnMark(){this.on=!1}checkNeighbours(){let t=[],i=this.i,s=this.j;return i>0&&!grid[i-1][s].visited&&t.push(grid[i-1][s]),i<grid.length-1&&!grid[i+1][s].visited&&t.push(grid[i+1][s]),s>0&&!grid[i][s-1].visited&&t.push(grid[i][s-1]),s<grid[i].length-1&&!grid[i][s+1].visited&&t.push(grid[i][s+1]),t}removeWall(t){if(!t)return;let i=t.i,s=t.j;i<this.i?(this.walls[1]=!1,t.walls[3]=!1):i>this.i?(this.walls[3]=!1,t.walls[1]=!1):s<this.j?(this.walls[0]=!1,t.walls[2]=!1):s>this.j&&(this.walls[2]=!1,t.walls[0]=!1)}}const bgColor="#070831",primaryColor="#fff4d6",secondaryColor="#908a76";let current,grid=[],rows=50,cols=50,gridWidth=600,gridHeight=600,stack=[],offsetX=0,offsetY=0;function setup(){createCanvas(windowWidth,windowHeight),offsetX=(width-gridWidth)/2,offsetY=(height-gridHeight)/2;for(let t=0;t<rows;t++){grid.push([]);for(let i=0;i<cols;i++){let s=new Cell(t,i,t*(gridWidth/rows)+offsetX,i*(gridHeight/cols)+offsetY,gridWidth/rows,gridHeight/cols);grid[t].push(s)}}current=grid[0][0];for(let t=0;t<rows;t++)for(let i=0;i<cols;i++)grid[t][i].show()}function draw(){background(bgColor),current&&current.currentMark(),current&&current.mark();for(let t=0;t<rows;t++)for(let i=0;i<cols;i++)grid[t][i].show();if(!current)return void noLoop();current.currentUnMark();const t=current.checkNeighbours(),i=Math.floor(Math.random()*t.length);let s;t.length>0?(stack.push(current),s=t[i]):stack.length>0&&(s=stack.pop()),s?current.removeWall(s):current.currentUnMark(),current=s}