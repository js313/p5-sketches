const bgColor="#070831",primaryColor="#fff4d6",secondaryColor="#908a76";let impulseCheckbox,res=100,lineHeight=400,baseAmplitude=10,impulseAmplitude=30,damp=1,curPoints=[],amps=[],freq=.1,noiseStepMult=.1,impulseActive=!1,impulseStrength=0;function setup(){createCanvas(windowWidth,windowHeight),curPoints.push(createVector(0,lineHeight));for(let e=1;e<=res+1;e++)curPoints.push(createVector(e*width/res,lineHeight)),amps.push(0);impulseCheckbox=createCheckbox("Trigger Impulse",!1),impulseCheckbox.position(10,height-30),impulseCheckbox.changed(toggleImpulse)}function draw(){background(bgColor),fill("#908a76"),stroke("#908a76"),circle(width/2,lineHeight-10,200),amps[0]=baseAmplitude,impulseStrength=impulseActive?lerp(impulseStrength,impulseAmplitude,.05):lerp(impulseStrength,0,.05),amps[0]+=impulseStrength,amps[0]+=noise(frameCount*noiseStepMult)*amps[0]/2;for(let e=0;e<=res;e++)curPoints[e].y=sin((frameCount-e)*freq)*amps[e]/(damp*(e/20+1))+lineHeight;for(let e=amps.length-1;e>0;e--)amps[e]=amps[e-1];stroke("#fff4d6"),strokeWeight(3),fill(7,8,49,220),beginShape();for(let e=0;e<curPoints.length;e++)vertex(curPoints[e].x,curPoints[e].y);vertex(curPoints[curPoints.length-1].x,height+10),vertex(curPoints[0].x,height+10),endShape()}function toggleImpulse(){impulseActive=impulseCheckbox.checked()}function windowResized(){resizeCanvas(windowWidth,windowHeight),curPoints=[];for(let e=0;e<=res;e++)curPoints.push(createVector(e*width/res,lineHeight)),amps.push(0)}