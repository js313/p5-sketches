const bgColor="#070831";let impulseCheckbox,res=100,lineHeight=200,baseAmplitude=10,impulseAmplitude=30,damp=1,curPoints=[],amps=[],freq=.1,noiseStepMult=.1,impulseActive=!1,impulseStrength=0;function setup(){createCanvas(windowWidth,windowHeight),curPoints.push(createVector(0,lineHeight));for(let e=1;e<=res;e++)curPoints.push(createVector(e*width/res,lineHeight)),amps.push(0);impulseCheckbox=createCheckbox("Trigger Impulse",!1),impulseCheckbox.position(10,height-30),impulseCheckbox.changed(toggleImpulse)}function draw(){fill(7,8,49,20),noStroke(),rect(0,0,width,height),amps[0]=baseAmplitude,impulseStrength=impulseActive?lerp(impulseStrength,impulseAmplitude,.05):lerp(impulseStrength,0,.05),amps[0]+=impulseStrength,amps[0]+=noise(frameCount*noiseStepMult)*amps[0]/2;for(let e=0;e<=res;e++)curPoints[e].y=sin((frameCount-e)*freq)*amps[e]/(damp*(e/20+1))+lineHeight;for(let e=amps.length-1;e>0;e--)amps[e]=amps[e-1];stroke(255,244,214),strokeWeight(3),noFill(),beginShape();for(let e=0;e<curPoints.length;e++)vertex(curPoints[e].x,curPoints[e].y);endShape()}function toggleImpulse(){impulseActive=impulseCheckbox.checked()}function windowResized(){resizeCanvas(windowWidth,windowHeight),curPoints=[];for(let e=0;e<=res;e++)curPoints.push(createVector(e*width/res,lineHeight)),amps.push(0)}